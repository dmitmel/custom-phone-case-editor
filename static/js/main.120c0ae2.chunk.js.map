{"version":3,"sources":["webpack:///./config/polyfills.js","webpack:///./src/actions/creators/device.js","webpack:///./src/actions/creators/image.js","webpack:///./src/actions/creators/SelectDevice.js","webpack:///./src/actions/creators/Workspace.js","webpack:///./src/actions/types/SelectDevice.js","webpack:///./src/actions/types/Workspace.js","webpack:///./src/actions/types/device.js","webpack:///./src/actions/types/image.js","webpack:///./src/components/App/App.jsx","webpack:///./src/components/styles.js","webpack:///./src/components/OptionsSidebar/UploadImage.jsx","webpack:///./src/components/OptionsSidebar/Size.jsx","webpack:///./src/components/OptionsSidebar/Rotation.jsx","webpack:///./src/components/OptionsSidebar/Palette.jsx","webpack:///./src/components/OptionsSidebar/OptionsSidebar.jsx","webpack:///./src/containers/OptionsSidebar.js","webpack:///./src/components/SelectDevice/Select.jsx","webpack:///./src/components/SelectDevice/SelectDevice.jsx","webpack:///./src/containers/SelectDevice.js","webpack:///./src/components/Layer/Layer.jsx","webpack:///./src/components/SVGLayer/SVGLayer.jsx","webpack:///./src/containers/SVGLayer.js","webpack:///./src/components/Workspace/ImageLayer.jsx","webpack:///./src/components/Workspace/DeviceLayer.jsx","webpack:///./src/components/Workspace/ImageFrame.jsx","webpack:///./src/components/Workspace/Rotate.jsx","webpack:///./src/components/Workspace/Resize.jsx","webpack:///./src/components/Workspace/Workspace.jsx","webpack:///./src/containers/Workspace.js","webpack:///./src/utils/theme.js","webpack:///./src/reducers/Workspace.js","webpack:///./src/reducers/index.js","webpack:///./src/reducers/device.js","webpack:///./src/reducers/image.js","webpack:///./src/reducers/SelectDevice.js","webpack:///./src/utils/routerHistory.js","webpack:///./src/utils/store.js","webpack:///./src/index.jsx","webpack:///./src/utils/ImageTransformType.js","webpack:///./src/utils/backgroundColors.js","webpack:///./src/utils/normalizeRotation.js"],"names":["Object","assign","object_assign__WEBPACK_IMPORTED_MODULE_2___default","a","selectDeviceManufacturer","manufacturer","type","device","selectDeviceModel","model","uploadImage","filename","url","width","height","types_image","selectDevice","SelectDevice","setBackgroundColor","backgroundColor","Workspace","beginDraggingImage","mouseX","mouseY","dragImage","stopDraggingImage","setRotation","rotation","beginRotatingImage","rotateImage","stopRotatingImage","setWidth","setHeight","beginResizingImage","direction","resizeImage","stopResizingImage","SELECT_DEVICE","SET_BACKGROUND_COLOR","BEGIN_DRAGGING_IMAGE","DRAG_IMAGE","STOP_DRAGGING_IMAGE","SET_ROTATION","BEGIN_ROTATING_IMAGE","ROTATE_IMAGE","STOP_ROTATING_IMAGE","SET_WIDTH","SET_HEIGHT","BEGIN_RESIZING_IMAGE","RESIZE_IMAGE","STOP_RESIZING_IMAGE","SELECT_DEVICE_MANUFACTURER","SELECT_DEVICE_MODEL","UPLOAD_IMAGE","__webpack_exports__","react_hot_loader__WEBPACK_IMPORTED_MODULE_1__","module","react__WEBPACK_IMPORTED_MODULE_0___default","createElement","Fragment","_containers_SelectDevice__WEBPACK_IMPORTED_MODULE_2__","_containers_OptionsSidebar__WEBPACK_IMPORTED_MODULE_3__","_containers_Workspace__WEBPACK_IMPORTED_MODULE_4__","optionsSidebarWidth","imageControlsColor","imageFrameOpacity","imageFrameStrokeWidth","imageResizePointSize","imageRotationPointSize","imageRotationOffset","UploadImage_UploadImage","_ref2","target","file","slicedToArray_default","files","onChange","_this","props","image","Image","src","URL","createObjectURL","onload","name","onerror","event","console","error","_this2","this","_this$props","classes","react_default","Button_default","variant","color","className","button","onClick","input","click","Typography_default","accept","ref","Component","prop_types_default","string","func","isRequired","object","OptionsSidebar_UploadImage","withStyles_default","_ref","spacing","marginBottom","unit","display","Size_Size","_classnames","_classnames2","onWidthChange","onHeightChange","disabled","component","classnames_default","classnames","defineProperty_default","root","Input_default","value","Math","round","toString","_ref3","abs","parseInt","_ref4","propTypes","number","bool","OptionsSidebar_Size","palette","typography","action","fontSize","textAlign","Rotation_Rotation","onRotate90","IconButton_default","rotate90","aria-label","core_Icon_default","OptionsSidebar_Rotation","alignItems","marginLeft","transform","Palette","selectedColor","renderColors","start","end","row","backgroundColors","slice","map","key","data-value","colorSelected","style","background","colorManipulator","dataset","length","OptionsSidebar_Palette","justifyContent","boxSizing","boxShadow","secondary","main","OptionsSidebar_OptionsSidebar","onBackgroundColorChange","imageFilename","onImageChange","imageWidth","imageHeight","onImageWidthChange","onImageHeightChange","imageRotation","onImageRotationChange","Drawer_default","paper","drawer","marginTop","Icon_default","marginRight","components_OptionsSidebar_OptionsSidebar","components_styles","padding","default","compose_default","es","state","dispatch","creators","withHandlers_default","SelectDevice_Select_Select","label","values","selectedValue","onValueChange","objectWithoutProperties_default","FormControl_default","InputLabel_default","htmlFor","Select_default","id","Array","isArray","MenuItem_default","arrayOf","SelectDevice_Select","SelectDevice_Transition","Slide_default","SelectDevice_SelectDevice","onManufacturerChange","onModelChange","deviceSelected","Dialog_default","open","TransitionComponent","dialog","aria-labelledby","title","aria-describedby","content","DialogTitle_default","DialogContent_default","keys","devices","DialogActions_default","components_SelectDevice_SelectDevice","flexDirection","& > *:not(:last-child)","Layer_Layer","children","oneOfType","defaultProps","components_Layer_Layer","position","top","left","SVGLayer_SVGLayer","layerWidth","layerHeight","_this$layer$getBoundi","layer","getBoundingClientRect","setState","react_dom_default","findDOMNode","setLayerSize","iw","ih","ix","imageX","iy","imageY","ir","_this$state","lw","lh","react_event_listener_cjs_default","onResize","x","y","fill","concat","join","transformOrigin","components_SVGLayer_SVGLayer","containers_SVGLayer","ImageLayer_ImageLayer","imageUrl","xlinkHref","preserveAspectRatio","Workspace_ImageLayer","DeviceLayer_DeviceLayer","deviceUrl","wrapper","wrapperH","margin","wrapperV","alt","Workspace_DeviceLayer","ImageFrame_ImageFrame","extends_default","stroke","strokeWidth","strokeOpacity","cursor","ImageTransformType","DRAGGING","Workspace_ImageFrame","Rotate_Rotate","x1","y1","x2","y2","cx","cy","r","ROTATING","onMouseDown","Workspace_Rotate","RESIZING_TOP_RIGHT","RESIZING_BOTTOM_RIGHT","RESIZING_BOTTOM_LEFT","RESIZING_TOP_LEFT","IMAGE_RESIZE_CURSOR_ANGLES","_IMAGE_RESIZE_CURSOR_","Resize_Resize","getAttribute","w","h","angle","result","minDist","forEach","cursorAngle","dist","getCursor","normalizeRotation","Workspace_Resize","Workspace_styles","uploadButton","zIndex","Workspace_Workspace","_this$getMousePositio","getMousePosition","imageTransformType","_this$getMousePositio2","_this$props2","rect","pageX","pageY","_this$props3","onMouseMove","onMouseUp","onBeginDraggingImage","components_Workspace_Workspace","dragOffsetX","dragOffsetY","utils_theme","createMuiTheme_default","primary","light","green_default","dark","blue_default","SNAP_ROTATIONS","SNAP_ROTATION_THRESHOLD","reducers","redux","arguments","undefined","objectSpread_default","NONE","mouse","diff","sqrt","pow","atan2","PI","nearestSnapRotation","find","snapRotation","_diff","halfDiagonal","routerHistory","createBrowserHistory_default","basename","utils_store","lib","redux_thunk_es","logOnlyInProduction","actionCreators","window","addEventListener","render","store","MuiThemeProvider_default","theme","App","document","getElementById","RESIZING","IMAGE_TRANSFORM_CURSORS","_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default","_IMAGE_TRANSFORM_CURS","CURSORS_IMAGE_TRANSFORM","move","crosshair","ne-resize","se-resize","sw-resize","nw-resize"],"mappings":"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","file":"static/js/main.120c0ae2.chunk.js","sourcesContent":["import 'es6-promise/auto';\n\n// `fetch()` polyfill for making API calls.\nimport 'whatwg-fetch';\n\n// `Object.assign()` is commonly used with React.\n// It will use the native implementation if it's present and isn't buggy.\nimport assign from 'object-assign';\n\n// React renderer uses `requestAnimationFrame` for splitting rendering between\n// multiple frames. See this video for more information:\n// https://youtu.be/ZCuYPiUIONs\nimport 'raf/polyfill';\n\nObject.assign = assign;\n","import {\n  SELECT_DEVICE_MANUFACTURER,\n  SELECT_DEVICE_MODEL,\n} from '../types/device';\n\nexport function selectDeviceManufacturer(manufacturer) {\n  return { type: SELECT_DEVICE_MANUFACTURER, manufacturer };\n}\n\nexport function selectDeviceModel(model) {\n  return { type: SELECT_DEVICE_MODEL, model };\n}\n","import { UPLOAD_IMAGE } from '../types/image';\n\nexport function uploadImage(filename, url, width, height) {\n  return { type: UPLOAD_IMAGE, filename, url, width, height };\n}\n","import { SELECT_DEVICE } from '../types/SelectDevice';\n\nexport function selectDevice() {\n  return { type: SELECT_DEVICE };\n}\n","import {\n  SET_BACKGROUND_COLOR,\n  // drag\n  BEGIN_DRAGGING_IMAGE,\n  DRAG_IMAGE,\n  STOP_DRAGGING_IMAGE,\n  // rotation\n  SET_ROTATION,\n  BEGIN_ROTATING_IMAGE,\n  ROTATE_IMAGE,\n  STOP_ROTATING_IMAGE,\n  // resize\n  SET_WIDTH,\n  SET_HEIGHT,\n  BEGIN_RESIZING_IMAGE,\n  RESIZE_IMAGE,\n  STOP_RESIZING_IMAGE,\n} from '../types/Workspace';\n\nexport function setBackgroundColor(backgroundColor) {\n  return { type: SET_BACKGROUND_COLOR, backgroundColor };\n}\n\n// drag\n\nexport function beginDraggingImage(mouseX, mouseY) {\n  return { type: BEGIN_DRAGGING_IMAGE, mouseX, mouseY };\n}\n\nexport function dragImage(mouseX, mouseY) {\n  return { type: DRAG_IMAGE, mouseX, mouseY };\n}\n\nexport function stopDraggingImage() {\n  return { type: STOP_DRAGGING_IMAGE };\n}\n\n// rotation\n\nexport function setRotation(rotation) {\n  return { type: SET_ROTATION, rotation };\n}\n\nexport function beginRotatingImage() {\n  return { type: BEGIN_ROTATING_IMAGE };\n}\n\nexport function rotateImage(mouseX, mouseY) {\n  return { type: ROTATE_IMAGE, mouseX, mouseY };\n}\n\nexport function stopRotatingImage() {\n  return { type: STOP_ROTATING_IMAGE };\n}\n\n// resize\n\nexport function setWidth(width) {\n  return { type: SET_WIDTH, width };\n}\n\nexport function setHeight(height) {\n  return { type: SET_HEIGHT, height };\n}\n\nexport function beginResizingImage(direction) {\n  return { type: BEGIN_RESIZING_IMAGE, direction };\n}\n\nexport function resizeImage(mouseX, mouseY) {\n  return { type: RESIZE_IMAGE, mouseX, mouseY };\n}\n\nexport function stopResizingImage() {\n  return { type: STOP_RESIZING_IMAGE };\n}\n","export const SELECT_DEVICE = '@@SelectDevice/SELECT_DEVICE';\n","export const SET_BACKGROUND_COLOR = '@@Workspace/SET_BACKGROUND_COLOR';\n\n// drag\nexport const BEGIN_DRAGGING_IMAGE = '@@Workspace/BEGIN_DRAGGING_IMAGE';\nexport const DRAG_IMAGE = '@@Workspace/DRAG_IMAGE';\nexport const STOP_DRAGGING_IMAGE = '@@Workspace/STOP_DRAGGING_IMAGE';\n\n// rotation\nexport const SET_ROTATION = '@@Workspace/SET_ROTATION';\nexport const BEGIN_ROTATING_IMAGE = '@@Workspace/BEGIN_ROTATING_IMAGE';\nexport const ROTATE_IMAGE = '@@Workspace/ROTATE_IMAGE';\nexport const STOP_ROTATING_IMAGE = '@@Workspace/STOP_ROTATING_IMAGE';\n\n// resize\nexport const SET_WIDTH = '@@Workspace/SET_WIDTH';\nexport const SET_HEIGHT = '@@Workspace/SET_HEIGHT';\nexport const BEGIN_RESIZING_IMAGE = '@@Workspace/BEGIN_RESIZING_IMAGE';\nexport const RESIZE_IMAGE = '@@Workspace/RESIZE_IMAGE';\nexport const STOP_RESIZING_IMAGE = '@@Workspace/STOP_RESIZING_IMAGE';\n","export const SELECT_DEVICE_MANUFACTURER = '@@device/SELECT_DEVICE_MANUFACTURER';\nexport const SELECT_DEVICE_MODEL = '@@device/SELECT_DEVICE_MODEL';\n","export const UPLOAD_IMAGE = '@@UploadImage/UPLOAD_IMAGE';\n","import React from 'react';\nimport { hot } from 'react-hot-loader';\nimport SelectDevice from '../../containers/SelectDevice';\nimport OptionsSidebar from '../../containers/OptionsSidebar';\nimport Workspace from '../../containers/Workspace';\n\nconst App = () => (\n  <>\n    <SelectDevice />\n    <OptionsSidebar />\n    <Workspace />\n  </>\n);\n\nexport default hot(module)(App);\n","export const optionsSidebarWidth = 240;\n\nexport const imageControlsColor = '#0096fd';\n\nexport const imageFrameOpacity = 0.6;\nexport const imageFrameStrokeWidth = 4;\n\nexport const imageResizePointSize = 10;\nexport const imageRotationPointSize = 12;\nexport const imageRotationOffset = 30;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport Typography from '@material-ui/core/Typography/Typography';\nimport Button from '@material-ui/core/Button/Button';\n\nconst styles = ({ spacing }) => ({\n  button: {\n    marginBottom: spacing.unit,\n  },\n  filename: {\n    marginBottom: spacing.unit * 3,\n  },\n  input: {\n    display: 'none',\n  },\n});\n\nclass UploadImage extends React.Component {\n  static propTypes = {\n    filename: PropTypes.string,\n    onChange: PropTypes.func.isRequired,\n    classes: PropTypes.object.isRequired,\n  };\n\n  onChange = ({ target }) => {\n    const [file] = target.files;\n    const { onChange } = this.props;\n\n    if (file == null) return;\n\n    const image = new Image();\n    image.src = URL.createObjectURL(file);\n\n    image.onload = () =>\n      onChange(file.name, image.src, image.width, image.height);\n\n    image.onerror = event => console.error(event.error);\n  };\n\n  render() {\n    const { filename, classes } = this.props;\n\n    return (\n      <>\n        <Button\n          variant=\"raised\"\n          color=\"primary\"\n          className={classes.button}\n          onClick={() => this.input.click()}>\n          Upload Image\n        </Button>\n\n        <Typography className={classes.filename}>\n          {filename || <br />}\n        </Typography>\n\n        <input\n          type=\"file\"\n          accept=\"image/*\"\n          className={classes.input}\n          onChange={this.onChange}\n          ref={input => {\n            this.input = input;\n          }}\n        />\n      </>\n    );\n  }\n}\n\nexport default withStyles(styles)(UploadImage);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport Typography from '@material-ui/core/Typography/Typography';\nimport Input from '@material-ui/core/Input/Input';\n\nconst styles = ({ palette, spacing, typography }) => ({\n  root: {\n    marginBottom: spacing.unit * 2,\n  },\n  disabled: {\n    color: palette.action.disabled,\n  },\n  input: {\n    width: '4ch',\n    fontSize: typography.fontSize,\n    textAlign: 'right',\n  },\n});\n\nconst Size = ({\n  width,\n  height,\n  onWidthChange,\n  onHeightChange,\n  disabled,\n  classes,\n}) => (\n  <>\n    <Typography\n      component=\"div\"\n      className={classnames({\n        [classes.root]: true,\n        [classes.disabled]: disabled,\n      })}>\n      Width:{' '}\n      <Input\n        type=\"number\"\n        value={Math.round(width).toString()}\n        onChange={({ target }) =>\n          onWidthChange(Math.abs(parseInt(target.value, 10) || 0))\n        }\n        disabled={disabled}\n        classes={{ input: classes.input }}\n      />\n    </Typography>\n\n    <Typography\n      component=\"div\"\n      className={classnames({\n        [classes.root]: true,\n        [classes.disabled]: disabled,\n      })}>\n      Height:{' '}\n      <Input\n        type=\"number\"\n        value={Math.round(height).toString()}\n        onChange={({ target }) =>\n          onHeightChange(Math.abs(parseInt(target.value, 10) || 0))\n        }\n        disabled={disabled}\n        classes={{ input: classes.input }}\n      />\n    </Typography>\n  </>\n);\n\nSize.propTypes = {\n  width: PropTypes.number,\n  height: PropTypes.number,\n  onWidthChange: PropTypes.func.isRequired,\n  onHeightChange: PropTypes.func.isRequired,\n  disabled: PropTypes.bool.isRequired,\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(Size);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport Typography from '@material-ui/core/Typography/Typography';\nimport Input from '@material-ui/core/Input/Input';\nimport IconButton from '@material-ui/core/IconButton/IconButton';\nimport Icon from '@material-ui/core/Icon';\n\nconst styles = ({ palette, spacing, typography }) => ({\n  root: {\n    display: 'flex',\n    marginBottom: spacing.unit * 2,\n    alignItems: 'center',\n  },\n  disabled: {\n    color: palette.action.disabled,\n  },\n  input: {\n    width: '3ch',\n    fontSize: typography.fontSize,\n    textAlign: 'right',\n  },\n  rotate90: {\n    marginLeft: 'auto',\n    transform: 'scaleY(-1)',\n  },\n});\n\nconst Rotation = ({ value, onChange, onRotate90, disabled, classes }) => (\n  <div className={classes.root}>\n    <Typography component=\"div\" className={disabled ? classes.disabled : null}>\n      Rotation:{' '}\n      <Input\n        type=\"number\"\n        value={Math.round(value).toString()}\n        onChange={({ target }) => onChange(parseInt(target.value, 10) || 0)}\n        disabled={disabled}\n        classes={{ input: classes.input }}\n      />\n      &deg;\n    </Typography>\n\n    <IconButton\n      className={classes.rotate90}\n      onClick={onRotate90}\n      disabled={disabled}\n      aria-label=\"Rotate 90ยบ clockwise\">\n      <Icon>rotate_90_degrees_ccw</Icon>\n    </IconButton>\n  </div>\n);\n\nRotation.propTypes = {\n  value: PropTypes.number.isRequired,\n  onChange: PropTypes.func.isRequired,\n  onRotate90: PropTypes.func.isRequired,\n  disabled: PropTypes.bool.isRequired,\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(Rotation);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport { fade } from '@material-ui/core/styles/colorManipulator';\nimport IconButton from '@material-ui/core/IconButton/IconButton';\nimport classnames from 'classnames';\nimport BACKGROUND_COLORS from '../../utils/backgroundColors';\n\nconst styles = ({ palette, spacing }) => ({\n  row: {\n    display: 'flex',\n    marginBottom: spacing.unit,\n    alignItems: 'stretch',\n    justifyContent: 'space-between',\n  },\n  color: {\n    width: 32,\n    height: 32,\n    boxSizing: 'content-box',\n  },\n  colorSelected: {\n    boxShadow: `0 0 0 3px ${palette.secondary.main}`,\n  },\n});\n\nfunction Palette({ value: selectedColor, onChange, disabled, classes }) {\n  const renderColors = (start, end) => (\n    <div className={classes.row}>\n      {BACKGROUND_COLORS.slice(start, end).map(color => (\n        <IconButton\n          key={color}\n          data-value={color}\n          disabled={disabled}\n          className={classnames({\n            [classes.color]: true,\n            [classes.colorSelected]: !disabled && color === selectedColor,\n          })}\n          style={{ background: disabled ? fade(color, 0.5) : color }}\n          onClick={({ target }) => onChange(target.dataset.value)}\n        />\n      ))}\n    </div>\n  );\n\n  return (\n    <div>\n      {renderColors(0, BACKGROUND_COLORS.length / 2)}\n      {renderColors(BACKGROUND_COLORS.length / 2)}\n    </div>\n  );\n}\n\nPalette.propTypes = {\n  value: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired,\n  disabled: PropTypes.bool.isRequired,\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(Palette);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport Button from '@material-ui/core/Button/Button';\nimport Drawer from '@material-ui/core/Drawer/Drawer';\nimport Icon from '@material-ui/core/Icon/Icon';\nimport UploadImage from './UploadImage';\nimport Size from './Size';\nimport Rotation from './Rotation';\nimport Palette from './Palette';\nimport * as stylesVars from '../styles';\n\nconst styles = ({ palette, spacing }) => ({\n  drawer: {\n    width: stylesVars.optionsSidebarWidth,\n    padding: spacing.unit * 2,\n    background: palette.background.default,\n  },\n});\n\nconst OptionsSidebar = ({\n  backgroundColor,\n  onBackgroundColorChange,\n  imageFilename,\n  onImageChange,\n  imageWidth,\n  imageHeight,\n  onImageWidthChange,\n  onImageHeightChange,\n  imageRotation,\n  onImageRotationChange,\n  onRotate90,\n  classes,\n}) => {\n  const disabled = !imageFilename;\n\n  return (\n    <Drawer variant=\"permanent\" classes={{ paper: classes.drawer }}>\n      <UploadImage filename={imageFilename} onChange={onImageChange} />\n\n      <Size\n        width={imageWidth}\n        height={imageHeight}\n        onWidthChange={onImageWidthChange}\n        onHeightChange={onImageHeightChange}\n        disabled={disabled}\n      />\n\n      <Rotation\n        value={imageRotation}\n        onChange={onImageRotationChange}\n        onRotate90={onRotate90}\n        disabled={disabled}\n      />\n\n      <Palette\n        value={backgroundColor}\n        onChange={onBackgroundColorChange}\n        disabled={disabled}\n      />\n\n      <Button variant=\"raised\" color=\"secondary\" style={{ marginTop: 'auto' }}>\n        <Icon style={{ marginRight: 8 }}>add_shopping_cart</Icon>\n        Add to Cart\n      </Button>\n    </Drawer>\n  );\n};\n\nOptionsSidebar.propTypes = {\n  // image\n  imageFilename: PropTypes.string,\n  onImageChange: PropTypes.func.isRequired,\n  // size\n  imageWidth: PropTypes.number,\n  imageHeight: PropTypes.number,\n  onImageWidthChange: PropTypes.func.isRequired,\n  onImageHeightChange: PropTypes.func.isRequired,\n  // rotation\n  imageRotation: PropTypes.number.isRequired,\n  onImageRotationChange: PropTypes.func.isRequired,\n  onRotate90: PropTypes.func.isRequired,\n  // background color\n  backgroundColor: PropTypes.string.isRequired,\n  onBackgroundColorChange: PropTypes.func.isRequired,\n\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(OptionsSidebar);\n","import { connect } from 'react-redux';\nimport compose from 'recompose/compose';\nimport withHandlers from 'recompose/withHandlers';\nimport OptionsSidebar from '../components/OptionsSidebar';\nimport * as actions from '../actions/creators';\n\nexport default compose(\n  connect(\n    state => ({\n      imageFilename: state.image.filename,\n      imageWidth: state.Workspace.imageWidth,\n      imageHeight: state.Workspace.imageHeight,\n      imageRotation: state.Workspace.imageRotation,\n      backgroundColor: state.Workspace.backgroundColor,\n    }),\n    dispatch => ({\n      onImageChange: (filename, url, width, height) =>\n        dispatch(actions.uploadImage(filename, url, width, height)),\n      onImageWidthChange: width => dispatch(actions.setWidth(width)),\n      onImageHeightChange: height => dispatch(actions.setHeight(height)),\n      onImageRotationChange: rotation =>\n        dispatch(actions.setRotation(rotation)),\n      onBackgroundColorChange: backgroundColor =>\n        dispatch(actions.setBackgroundColor(backgroundColor)),\n    }),\n  ),\n\n  withHandlers({\n    onRotate90: ({ imageRotation, onImageRotationChange }) => () =>\n      onImageRotationChange(imageRotation + 90),\n  }),\n)(OptionsSidebar);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport FormControl from '@material-ui/core/FormControl/FormControl';\nimport InputLabel from '@material-ui/core/InputLabel/InputLabel';\nimport MuiSelect from '@material-ui/core/Select/Select';\nimport MenuItem from '@material-ui/core/MenuItem/MenuItem';\n\nconst Select = ({ label, values, selectedValue, onValueChange, ...props }) => (\n  <FormControl {...props}>\n    <InputLabel htmlFor=\"model-input\">{label}</InputLabel>\n\n    <MuiSelect\n      id=\"model-input\"\n      name=\"model\"\n      value={selectedValue}\n      onChange={({ target }) => onValueChange(target.value)}>\n      {Array.isArray(values) &&\n        values.map(value => (\n          <MenuItem key={value} value={value}>\n            {value}\n          </MenuItem>\n        ))}\n    </MuiSelect>\n  </FormControl>\n);\n\nSelect.propTypes = {\n  label: PropTypes.string.isRequired,\n  values: PropTypes.arrayOf(PropTypes.string.isRequired),\n  selectedValue: PropTypes.string.isRequired,\n  onValueChange: PropTypes.func.isRequired,\n};\n\nexport default Select;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport Button from '@material-ui/core/Button/Button';\nimport Dialog from '@material-ui/core/Dialog/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle/DialogTitle';\nimport Slide from '@material-ui/core/Slide/Slide';\nimport Select from './Select';\nimport devices from '../../assets/devices.json';\n\nconst Transition = props => <Slide direction=\"up\" {...props} />;\n\nconst styles = ({ spacing }) => ({\n  dialog: {\n    width: 320,\n  },\n\n  title: {},\n  content: {\n    display: 'flex',\n    flexDirection: 'column',\n\n    '& > *:not(:last-child)': {\n      marginBottom: spacing.unit * 2,\n    },\n  },\n});\n\nconst SelectDevice = ({\n  manufacturer,\n  onManufacturerChange,\n  model,\n  onModelChange,\n  deviceSelected,\n  selectDevice,\n  classes,\n}) => (\n  <>\n    <Dialog\n      open={!deviceSelected}\n      TransitionComponent={Transition}\n      classes={{ paper: classes.dialog }}\n      aria-labelledby={classes.title}\n      aria-describedby={classes.content}>\n      <DialogTitle id={classes.title}>Select Device</DialogTitle>\n\n      <DialogContent className={classes.content}>\n        <Select\n          label=\"Manufacturer\"\n          values={Object.keys(devices)}\n          selectedValue={manufacturer}\n          onValueChange={onManufacturerChange}\n        />\n\n        <Select\n          label=\"Model\"\n          values={manufacturer ? Object.keys(devices[manufacturer]) : null}\n          disabled={!manufacturer}\n          selectedValue={model}\n          onValueChange={onModelChange}\n        />\n      </DialogContent>\n\n      <DialogActions>\n        <Button\n          variant=\"raised\"\n          color=\"primary\"\n          disabled={!manufacturer || !model}\n          onClick={selectDevice}>\n          Next\n        </Button>\n      </DialogActions>\n    </Dialog>\n  </>\n);\n\nSelectDevice.propTypes = {\n  manufacturer: PropTypes.string,\n  onManufacturerChange: PropTypes.func.isRequired,\n\n  model: PropTypes.string,\n  onModelChange: PropTypes.func.isRequired,\n\n  deviceSelected: PropTypes.bool.isRequired,\n  selectDevice: PropTypes.func.isRequired,\n\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(SelectDevice);\n","import { connect } from 'react-redux';\nimport SelectDevice from '../components/SelectDevice';\nimport * as actions from '../actions/creators';\n\nexport default connect(\n  state => ({\n    manufacturer: state.device.manufacturer,\n    model: state.device.model,\n\n    deviceSelected: state.SelectDevice.deviceSelected,\n  }),\n  dispatch => ({\n    onManufacturerChange: manufacturer =>\n      dispatch(actions.selectDeviceManufacturer(manufacturer)),\n    onModelChange: model => dispatch(actions.selectDeviceModel(model)),\n\n    selectDevice: () => dispatch(actions.selectDevice()),\n  }),\n)(SelectDevice);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport withStyles from '@material-ui/core/styles/withStyles';\n\nconst styles = {\n  root: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    width: '100%',\n    height: '100%',\n  },\n};\n\nconst Layer = ({ component: Component, classes, children, ...props }) => (\n  <Component className={classes.root} {...props}>\n    {children}\n  </Component>\n);\n\nLayer.propTypes = {\n  component: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  classes: PropTypes.object.isRequired,\n};\n\nLayer.defaultProps = {\n  component: 'div',\n};\n\nexport default withStyles(styles)(Layer);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport EventListener from 'react-event-listener';\nimport Layer from '../Layer';\n\nclass SVGLayer extends React.Component {\n  static propTypes = {\n    imageWidth: PropTypes.number.isRequired,\n    imageHeight: PropTypes.number.isRequired,\n    imageX: PropTypes.number.isRequired,\n    imageY: PropTypes.number.isRequired,\n    imageRotation: PropTypes.number.isRequired,\n    backgroundColor: PropTypes.string,\n  };\n\n  state = { layerWidth: 0, layerHeight: 0 };\n\n  componentDidMount() {\n    this.layer = ReactDOM.findDOMNode(this); // eslint-disable-line react/no-find-dom-node\n    this.setLayerSize();\n  }\n\n  setLayerSize = () => {\n    const { width, height } = this.layer.getBoundingClientRect();\n    this.setState({ layerWidth: width, layerHeight: height });\n  };\n\n  render() {\n    const {\n      imageWidth: iw,\n      imageHeight: ih,\n      imageX: ix,\n      imageY: iy,\n      imageRotation: ir,\n      backgroundColor,\n      children,\n    } = this.props;\n\n    const { layerWidth: lw, layerHeight: lh } = this.state;\n\n    return (\n      <EventListener target=\"window\" onResize={this.setLayerSize}>\n        <Layer component=\"svg\">\n          {backgroundColor && (\n            <rect x={0} y={0} width={lw} height={lh} fill={backgroundColor} />\n          )}\n\n          <g transform={`translate(${lw / 2},${lh / 2})`}>\n            <g\n              transform={[\n                `translate(${ix - iw / 2},${iy - ih / 2})`,\n                `rotate(${ir})`,\n              ].join(' ')}\n              style={{ transformOrigin: `${iw / 2}px ${ih / 2}px` }}>\n              {children}\n            </g>\n          </g>\n        </Layer>\n      </EventListener>\n    );\n  }\n}\n\nexport default SVGLayer;\n","import { connect } from 'react-redux';\nimport SVGLayer from '../components/SVGLayer';\n\nexport default connect(state => ({\n  imageWidth: state.Workspace.imageWidth,\n  imageHeight: state.Workspace.imageHeight,\n\n  imageX: state.Workspace.imageX,\n  imageY: state.Workspace.imageY,\n  imageRotation: state.Workspace.imageRotation,\n}))(SVGLayer);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport SVGLayer from '../../containers/SVGLayer';\n\nconst ImageLayer = ({ imageUrl, imageWidth, imageHeight, backgroundColor }) => (\n  <SVGLayer backgroundColor={backgroundColor}>\n    <image\n      xlinkHref={imageUrl}\n      width={imageWidth}\n      height={imageHeight}\n      preserveAspectRatio=\"none\"\n    />\n  </SVGLayer>\n);\n\nImageLayer.propTypes = {\n  imageUrl: PropTypes.string.isRequired,\n  imageWidth: PropTypes.number.isRequired,\n  imageHeight: PropTypes.number.isRequired,\n  backgroundColor: PropTypes.string.isRequired,\n};\n\nexport default ImageLayer;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport Layer from '../Layer';\n\nconst styles = {\n  wrapper: { display: 'flex' },\n  wrapperH: { flexDirection: 'row' },\n  wrapperV: { flexDirection: 'column' },\n\n  margin: {\n    width: '100%',\n    height: '100%',\n    background: '#fff',\n  },\n};\n\nconst DeviceLayer = ({ deviceUrl, classes }) => (\n  <Layer classes={{ root: classNames(classes.wrapper, classes.wrapperH) }}>\n    <div className={classes.margin} />\n\n    <div className={classNames(classes.wrapper, classes.wrapperV)}>\n      <div className={classes.margin} />\n      <img src={deviceUrl} alt=\"device\" />\n      <div className={classes.margin} />\n    </div>\n\n    <div className={classes.margin} />\n  </Layer>\n);\n\nDeviceLayer.propTypes = {\n  deviceUrl: PropTypes.string.isRequired,\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(DeviceLayer);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ImageTransformType, {\n  IMAGE_TRANSFORM_CURSORS,\n} from '../../utils/ImageTransformType';\nimport {\n  imageControlsColor as color,\n  imageFrameStrokeWidth as strokeWidth,\n  imageFrameOpacity as opacity,\n} from '../styles';\n\nconst ImageFrame = ({ ...props }) => (\n  <rect\n    x={0}\n    y={0}\n    fill=\"transparent\"\n    stroke={color}\n    strokeWidth={strokeWidth}\n    strokeOpacity={opacity}\n    cursor={IMAGE_TRANSFORM_CURSORS[ImageTransformType.DRAGGING]}\n    {...props}\n  />\n);\n\nImageFrame.propTypes = {\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired,\n};\n\nexport default ImageFrame;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ImageTransformType, {\n  IMAGE_TRANSFORM_CURSORS,\n} from '../../utils/ImageTransformType';\nimport {\n  imageControlsColor as color,\n  imageFrameStrokeWidth as frameStrokeWidth,\n  imageFrameOpacity as frameOpacity,\n  imageRotationPointSize as size,\n  imageRotationOffset as offset,\n} from '../styles';\n\nconst Rotate = ({ imageWidth, beginRotatingImage }) => (\n  <>\n    <line\n      x1={imageWidth / 2}\n      y1={-offset}\n      x2={imageWidth / 2}\n      y2={-frameStrokeWidth / 2}\n      stroke={color}\n      strokeWidth={frameStrokeWidth}\n      strokeOpacity={frameOpacity}\n    />\n\n    <circle\n      cx={imageWidth / 2}\n      cy={-offset}\n      r={size / 2}\n      fill={color}\n      cursor={IMAGE_TRANSFORM_CURSORS[ImageTransformType.ROTATING]}\n      onMouseDown={beginRotatingImage}\n    />\n  </>\n);\n\nRotate.propTypes = {\n  imageWidth: PropTypes.number.isRequired,\n  beginRotatingImage: PropTypes.func.isRequired,\n};\n\nexport default Rotate;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport normalizeRotation from '../../utils/normalizeRotation';\nimport ImageTransformType, {\n  IMAGE_TRANSFORM_CURSORS as CURSORS,\n  CURSORS_IMAGE_TRANSFORM,\n} from '../../utils/ImageTransformType';\nimport {\n  imageControlsColor as color,\n  imageResizePointSize as size,\n} from '../styles';\n\nconst {\n  RESIZING_TOP_RIGHT,\n  RESIZING_BOTTOM_RIGHT,\n  RESIZING_BOTTOM_LEFT,\n  RESIZING_TOP_LEFT,\n} = ImageTransformType;\n\nconst IMAGE_RESIZE_CURSOR_ANGLES = {\n  [CURSORS[RESIZING_TOP_RIGHT]]: 45,\n  [CURSORS[RESIZING_BOTTOM_RIGHT]]: 135,\n  [CURSORS[RESIZING_BOTTOM_LEFT]]: 225,\n  [CURSORS[RESIZING_TOP_LEFT]]: 315,\n};\n\nclass Resize extends React.Component {\n  static propTypes = {\n    imageWidth: PropTypes.number.isRequired,\n    imageHeight: PropTypes.number.isRequired,\n    imageRotation: PropTypes.number.isRequired,\n    beginResizingImage: PropTypes.func.isRequired,\n  };\n\n  beginResizingImage = ({ target }) => {\n    const { beginResizingImage } = this.props;\n    const cursor = target.getAttribute('cursor');\n    beginResizingImage(CURSORS_IMAGE_TRANSFORM[cursor]);\n  };\n\n  render() {\n    const { imageWidth: w, imageHeight: h, imageRotation } = this.props;\n\n    return [\n      { x: w, y: 0, angle: 45 },\n      { x: w, y: h, angle: 135 },\n      { x: 0, y: h, angle: 225 },\n      { x: 0, y: 0, angle: 315 },\n    ].map(({ x, y, angle }) => (\n      <rect\n        key={angle}\n        x={x - size / 2}\n        y={y - size / 2}\n        width={size}\n        height={size}\n        fill={color}\n        cursor={getCursor(normalizeRotation(imageRotation + angle))}\n        onMouseDown={this.beginResizingImage}\n      />\n    ));\n  }\n}\n\nfunction getCursor(angle) {\n  let result = '';\n  let minDist = 360;\n\n  Object.keys(IMAGE_RESIZE_CURSOR_ANGLES).forEach(cursor => {\n    const cursorAngle = IMAGE_RESIZE_CURSOR_ANGLES[cursor];\n    const dist = Math.abs(angle - cursorAngle);\n    if (dist <= minDist) {\n      minDist = dist;\n      result = cursor;\n    }\n  });\n\n  return result;\n}\n\nexport default Resize;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport ImageLayer from './ImageLayer';\nimport SVGLayer from '../../containers/SVGLayer';\nimport DeviceLayer from './DeviceLayer';\nimport ImageFrame from './ImageFrame';\nimport Rotate from './Rotate';\nimport Resize from './Resize';\nimport ImageTransformType, {\n  IMAGE_TRANSFORM_CURSORS,\n} from '../../utils/ImageTransformType';\nimport { optionsSidebarWidth } from '../styles';\n\nconst styles = {\n  wrapper: {\n    height: '100%',\n    marginLeft: optionsSidebarWidth,\n  },\n\n  root: {\n    position: 'relative',\n    height: '100%',\n    background: '#fff',\n  },\n\n  uploadButton: {\n    position: 'absolute',\n    top: 50,\n    left: '50%',\n    transform: 'translateX(-50%)',\n    zIndex: 1,\n  },\n};\n\nclass Workspace extends React.Component {\n  static propTypes = {\n    deviceUrl: PropTypes.string,\n\n    imageUrl: PropTypes.string,\n    imageWidth: PropTypes.number,\n    imageHeight: PropTypes.number,\n    imageRotation: PropTypes.number.isRequired,\n    backgroundColor: PropTypes.string.isRequired,\n\n    imageTransformType: PropTypes.string.isRequired,\n\n    // drag\n    beginDraggingImage: PropTypes.func.isRequired,\n    dragImage: PropTypes.func.isRequired,\n    stopDraggingImage: PropTypes.func.isRequired,\n\n    // rotation\n    beginRotatingImage: PropTypes.func.isRequired,\n    rotateImage: PropTypes.func.isRequired,\n    stopRotatingImage: PropTypes.func.isRequired,\n\n    // resize\n    beginResizingImage: PropTypes.func.isRequired,\n    resizeImage: PropTypes.func.isRequired,\n    stopResizingImage: PropTypes.func.isRequired,\n\n    classes: PropTypes.object.isRequired,\n  };\n\n  onBeginDraggingImage = event => {\n    const { beginDraggingImage } = this.props;\n    const { x, y } = this.getMousePosition(event);\n    beginDraggingImage(x, y);\n  };\n\n  onMouseMove = event => {\n    const {\n      imageTransformType,\n      dragImage,\n      rotateImage,\n      resizeImage,\n    } = this.props;\n\n    const { x, y } = this.getMousePosition(event);\n\n    // eslint-disable-next-line default-case\n    switch (imageTransformType) {\n      case ImageTransformType.DRAGGING:\n        dragImage(x, y);\n        break;\n      case ImageTransformType.ROTATING:\n        rotateImage(x, y);\n        break;\n      case ImageTransformType.RESIZING_TOP_RIGHT:\n      case ImageTransformType.RESIZING_BOTTOM_RIGHT:\n      case ImageTransformType.RESIZING_BOTTOM_LEFT:\n      case ImageTransformType.RESIZING_TOP_LEFT:\n        resizeImage(x, y);\n        break;\n    }\n  };\n\n  onMouseUp = () => {\n    const {\n      imageTransformType,\n      stopDraggingImage,\n      stopRotatingImage,\n      stopResizingImage,\n    } = this.props;\n\n    // eslint-disable-next-line default-case\n    switch (imageTransformType) {\n      case ImageTransformType.DRAGGING:\n        stopDraggingImage();\n        break;\n      case ImageTransformType.ROTATING:\n        stopRotatingImage();\n        break;\n      case ImageTransformType.RESIZING_TOP_RIGHT:\n      case ImageTransformType.RESIZING_BOTTOM_RIGHT:\n      case ImageTransformType.RESIZING_BOTTOM_LEFT:\n      case ImageTransformType.RESIZING_TOP_LEFT:\n        stopResizingImage();\n        break;\n    }\n  };\n\n  getMousePosition(event) {\n    const rect = this.root.getBoundingClientRect();\n    return {\n      x: event.pageX - (rect.left + rect.width / 2),\n      y: event.pageY - (rect.top + rect.height / 2),\n    };\n  }\n\n  render() {\n    const {\n      deviceUrl,\n      imageUrl,\n      imageWidth,\n      imageHeight,\n      imageRotation,\n      backgroundColor,\n      imageTransformType,\n      beginRotatingImage,\n      beginResizingImage,\n      classes,\n    } = this.props;\n\n    return (\n      <div className={classes.wrapper}>\n        {/* eslint-disable-next-line jsx-a11y/no-static-element-interactions */}\n        <div\n          className={classes.root}\n          style={{ cursor: IMAGE_TRANSFORM_CURSORS[imageTransformType] }}\n          ref={root => {\n            this.root = root;\n          }}\n          onMouseMove={this.onMouseMove}\n          onMouseUp={this.onMouseUp}>\n          {imageUrl && (\n            <ImageLayer\n              imageUrl={imageUrl}\n              imageWidth={imageWidth}\n              imageHeight={imageHeight}\n              backgroundColor={backgroundColor}\n            />\n          )}\n\n          {deviceUrl && <DeviceLayer deviceUrl={deviceUrl} />}\n\n          {imageUrl && (\n            <SVGLayer>\n              <ImageFrame\n                width={imageWidth}\n                height={imageHeight}\n                onMouseDown={this.onBeginDraggingImage}\n              />\n\n              <Resize\n                imageWidth={imageWidth}\n                imageHeight={imageHeight}\n                imageRotation={imageRotation}\n                beginResizingImage={beginResizingImage}\n              />\n\n              <Rotate\n                imageWidth={imageWidth}\n                beginRotatingImage={beginRotatingImage}\n              />\n            </SVGLayer>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withStyles(styles)(Workspace);\n","import { connect } from 'react-redux';\nimport Workspace from '../components/Workspace';\nimport * as actions from '../actions/creators';\nimport devices from '../assets/devices.json';\n\nexport default connect(\n  state => ({\n    deviceUrl:\n      state.device.manufacturer && state.device.model\n        ? devices[state.device.manufacturer][state.device.model]\n        : null,\n\n    imageUrl: state.image.url,\n    imageWidth: state.Workspace.imageWidth,\n    imageHeight: state.Workspace.imageHeight,\n    imageRotation: state.Workspace.imageRotation,\n    backgroundColor: state.Workspace.backgroundColor,\n\n    imageTransformType: state.Workspace.imageTransformType,\n\n    dragOffsetX: state.Workspace.dragOffsetX,\n    dragOffsetY: state.Workspace.dragOffsetY,\n  }),\n  dispatch => ({\n    // drag\n    beginDraggingImage: (mouseX, mouseY) =>\n      dispatch(actions.beginDraggingImage(mouseX, mouseY)),\n    dragImage: (mouseX, mouseY) => dispatch(actions.dragImage(mouseX, mouseY)),\n    stopDraggingImage: () => dispatch(actions.stopDraggingImage()),\n    // rotation\n    beginRotatingImage: () => dispatch(actions.beginRotatingImage()),\n    rotateImage: (mouseX, mouseY) =>\n      dispatch(actions.rotateImage(mouseX, mouseY)),\n    stopRotatingImage: () => dispatch(actions.stopRotatingImage()),\n    // resize\n    beginResizingImage: direction =>\n      dispatch(actions.beginResizingImage(direction)),\n    resizeImage: (mouseX, mouseY) =>\n      dispatch(actions.resizeImage(mouseX, mouseY)),\n    stopResizingImage: () => dispatch(actions.stopResizingImage()),\n  }),\n)(Workspace);\n","import createMuiTheme from '@material-ui/core/styles/createMuiTheme';\nimport green from '@material-ui/core/colors/green';\nimport blue from '@material-ui/core/colors/blue';\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      light: green[400],\n      main: green[600],\n      dark: green[800],\n    },\n    secondary: blue,\n  },\n});\n\nexport default theme;\n","import * as actions from '../actions/types';\nimport ImageTransformType from '../utils/ImageTransformType';\nimport normalizeRotation from '../utils/normalizeRotation';\nimport BACKGROUND_COLOR from '../utils/backgroundColors';\n\nconst SNAP_ROTATIONS = [0, 90, 180, 270, 360];\nconst SNAP_ROTATION_THRESHOLD = 2.5;\n\nexport default function Workspace(\n  state = {\n    backgroundColor: BACKGROUND_COLOR[3],\n    imageX: 0,\n    imageY: 0,\n    imageWidth: null,\n    imageHeight: null,\n    imageRotation: 0,\n\n    imageTransformType: ImageTransformType.NONE,\n\n    dragOffsetX: null,\n    dragOffsetY: null,\n  },\n  action,\n) {\n  switch (action.type) {\n    case actions.UPLOAD_IMAGE: {\n      return {\n        ...state,\n        imageWidth: action.width,\n        imageHeight: action.height,\n      };\n    }\n\n    // background color\n    case actions.SET_BACKGROUND_COLOR: {\n      return {\n        ...state,\n        backgroundColor: action.backgroundColor,\n      };\n    }\n\n    // drag\n    case actions.BEGIN_DRAGGING_IMAGE: {\n      return {\n        ...state,\n        imageTransformType: ImageTransformType.DRAGGING,\n        dragOffsetX: action.mouseX - state.imageX,\n        dragOffsetY: action.mouseY - state.imageY,\n      };\n    }\n    case actions.DRAG_IMAGE: {\n      return {\n        ...state,\n        imageX: action.mouseX - state.dragOffsetX,\n        imageY: action.mouseY - state.dragOffsetY,\n      };\n    }\n    case actions.STOP_DRAGGING_IMAGE: {\n      return {\n        ...state,\n        imageTransformType: ImageTransformType.NONE,\n        dragOffsetX: null,\n        dragOffsetY: null,\n      };\n    }\n\n    // rotation\n    case actions.SET_ROTATION: {\n      return {\n        ...state,\n        imageRotation: normalizeRotation(action.rotation),\n      };\n    }\n    case actions.BEGIN_ROTATING_IMAGE: {\n      return {\n        ...state,\n        imageTransformType: ImageTransformType.ROTATING,\n      };\n    }\n    case actions.ROTATE_IMAGE: {\n      const image = { x: state.imageX, y: state.imageY };\n      const mouse = { x: action.mouseX, y: action.mouseY };\n      const diff = { x: mouse.x - image.x, y: mouse.y - image.y };\n\n      const dist = Math.sqrt(diff.x ** 2 + diff.y ** 2);\n      if (dist === 0) return state;\n\n      let rotation = normalizeRotation(\n        Math.atan2(diff.x / dist, -diff.y / dist) * (180 / Math.PI),\n      );\n\n      const nearestSnapRotation = SNAP_ROTATIONS.find(\n        snapRotation =>\n          Math.abs(snapRotation - rotation) < SNAP_ROTATION_THRESHOLD,\n      );\n\n      if (nearestSnapRotation != null) rotation = nearestSnapRotation % 360;\n\n      return {\n        ...state,\n        imageRotation: rotation,\n      };\n    }\n    case actions.STOP_ROTATING_IMAGE: {\n      return {\n        ...state,\n        imageTransformType: ImageTransformType.NONE,\n      };\n    }\n\n    // resize\n    case actions.SET_WIDTH: {\n      return {\n        ...state,\n        imageWidth: action.width,\n        imageHeight: action.width * (state.imageHeight / state.imageWidth),\n      };\n    }\n    case actions.SET_HEIGHT: {\n      return {\n        ...state,\n        imageWidth: action.height * (state.imageWidth / state.imageHeight),\n        imageHeight: action.height,\n      };\n    }\n    case actions.BEGIN_RESIZING_IMAGE: {\n      return {\n        ...state,\n        imageTransformType: action.direction,\n      };\n    }\n    case actions.RESIZE_IMAGE: {\n      const image = { x: state.imageX, y: state.imageY };\n      const mouse = { x: action.mouseX, y: action.mouseY };\n      const diff = { x: mouse.x - image.x, y: mouse.y - image.y };\n\n      const dist = Math.sqrt(diff.x ** 2 + diff.y ** 2);\n      if (dist === 0) return state;\n\n      const halfDiagonal = Math.sqrt(\n        (state.imageWidth / 2) ** 2 + (state.imageHeight / 2) ** 2,\n      );\n\n      return {\n        ...state,\n        imageWidth: state.imageWidth * (dist / halfDiagonal),\n        imageHeight: state.imageHeight * (dist / halfDiagonal),\n      };\n    }\n    case actions.STOP_RESIZING_IMAGE: {\n      return {\n        ...state,\n        imageTransformType: ImageTransformType.NONE,\n      };\n    }\n\n    default: {\n      return state;\n    }\n  }\n}\n","import { combineReducers } from 'redux';\nimport device from './device';\nimport image from './image';\nimport SelectDevice from './SelectDevice';\nimport Workspace from './Workspace';\n\nconst rootReducer = combineReducers({\n  device,\n  image,\n  SelectDevice,\n  Workspace,\n});\n\nexport default rootReducer;\n","import * as actions from '../actions/types';\n\nexport default function UploadImage(\n  state = {\n    manufacturer: '',\n    model: '',\n  },\n  action,\n) {\n  switch (action.type) {\n    case actions.SELECT_DEVICE_MANUFACTURER: {\n      return {\n        ...state,\n        manufacturer: action.manufacturer,\n        model: '',\n      };\n    }\n    case actions.SELECT_DEVICE_MODEL: {\n      return {\n        ...state,\n        model: action.model,\n      };\n    }\n    default: {\n      return state;\n    }\n  }\n}\n","import * as actions from '../actions/types';\n\nexport default function UploadImage(\n  state = {\n    url: null,\n    width: null,\n    height: null,\n  },\n  action,\n) {\n  switch (action.type) {\n    case actions.UPLOAD_IMAGE: {\n      return {\n        ...state,\n        filename: action.filename,\n        url: action.url,\n        width: action.width,\n        height: action.height,\n      };\n    }\n    default: {\n      return state;\n    }\n  }\n}\n","import * as actions from '../actions/types';\n\nexport default function SelectDevice(\n  state = {\n    deviceSelected: false,\n  },\n  action,\n) {\n  switch (action.type) {\n    case actions.SELECT_DEVICE: {\n      return {\n        ...state,\n        deviceSelected: true,\n      };\n    }\n    default: {\n      return state;\n    }\n  }\n}\n","import createHistory from 'history/createBrowserHistory';\n\nconst history = createHistory({ basename: process.env.PUBLIC_URL });\n\nexport default history;\n","import { createStore, compose, applyMiddleware } from 'redux';\nimport { devToolsEnhancer } from 'redux-devtools-extension/logOnlyInProduction';\nimport thunk from 'redux-thunk';\nimport { connectRouter, routerMiddleware } from 'connected-react-router';\nimport reducer from '../reducers';\nimport * as actions from '../actions/creators';\nimport routerHistory from '../utils/routerHistory';\n\nconst store = createStore(\n  connectRouter(routerHistory)(reducer),\n  compose(\n    applyMiddleware(thunk, routerMiddleware(routerHistory)),\n    devToolsEnhancer({\n      name: 'Custom Phone Case Editor',\n      actionCreators: actions,\n    }),\n  ),\n);\n\nexport default store;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider as ReduxStoreProvider } from 'react-redux';\nimport MuiThemeProvider from '@material-ui/core/styles/MuiThemeProvider';\nimport 'normalize.css';\nimport './resets.css';\nimport App from './components/App';\nimport theme from './utils/theme';\nimport store from './utils/store';\n\nwindow.addEventListener('load', () => {\n  ReactDOM.render(\n    <ReduxStoreProvider store={store}>\n      <MuiThemeProvider theme={theme}>\n        <App />\n      </MuiThemeProvider>\n    </ReduxStoreProvider>,\n    document.getElementById('root'),\n  );\n});\n","const ImageTransformType = {\n  NONE: 'none',\n  DRAGGING: 'dragging',\n  ROTATING: 'rotating',\n  RESIZING: 'resizing',\n  RESIZING_TOP_RIGHT: 'resizing-top-right',\n  RESIZING_BOTTOM_RIGHT: 'resizing-bottom-right',\n  RESIZING_BOTTOM_LEFT: 'resizing-bottom-left',\n  RESIZING_TOP_LEFT: 'resizing-top-left',\n};\n\nexport default ImageTransformType;\n\nexport const IMAGE_TRANSFORM_CURSORS = {\n  [ImageTransformType.NONE]: 'default',\n  [ImageTransformType.DRAGGING]: 'move',\n  [ImageTransformType.ROTATING]: 'crosshair',\n  [ImageTransformType.RESIZING_TOP_RIGHT]: 'ne-resize',\n  [ImageTransformType.RESIZING_BOTTOM_RIGHT]: 'se-resize',\n  [ImageTransformType.RESIZING_BOTTOM_LEFT]: 'sw-resize',\n  [ImageTransformType.RESIZING_TOP_LEFT]: 'nw-resize',\n};\n\nexport const CURSORS_IMAGE_TRANSFORM = {\n  default: ImageTransformType.NONE,\n  move: ImageTransformType.DRAGGING,\n  crosshair: ImageTransformType.ROTATING,\n  'ne-resize': ImageTransformType.RESIZING_TOP_RIGHT,\n  'se-resize': ImageTransformType.RESIZING_BOTTOM_RIGHT,\n  'sw-resize': ImageTransformType.RESIZING_BOTTOM_LEFT,\n  'nw-resize': ImageTransformType.RESIZING_TOP_LEFT,\n};\n","const BACKGROUND_COLORS = [\n  '#b4323c',\n  '#f02d46',\n  '#f05a32',\n  '#ebf5af',\n  '#e6d2aa',\n  '#5fdc41',\n  '#6e3c96',\n  '#3250c8',\n  '#5a6996',\n  '#645f6e',\n];\n\nexport default BACKGROUND_COLORS;\n","export default function normalizeRotation(rotation) {\n  if (rotation < 0) rotation += 360;\n  return rotation % 360;\n}\n"],"sourceRoot":""}